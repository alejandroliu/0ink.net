<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>Bash Tips</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Some bash one-liners: echo ${!X*} Will print all the names of variables whos name starts with X. To output the contents of a variable so it can be..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">0ink.net</a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/pages/privacy-policy.html">Privacy Policy</a></li>
                    <li class="active"><a href="/category/blog.html">Blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/bash-tips.html" rel="bookmark"
           title="Permalink to Bash Tips">Bash Tips</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-05-13T00:00:00+02:00">
                Published: Mon 13 May 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/alejandro-liu.html">Alejandro Liu</a>
        </address>
<p>In <a href="/category/blog.html">Blog</a>.</p>

</footer><!-- /.post-info -->      <p>Some bash one-liners:</p>
<div class="highlight"><pre><span></span><code>echo <span class="cp">${</span><span class="err">!</span><span class="n">X</span><span class="o">*</span><span class="cp">}</span>
</code></pre></div>

<p>Will print all the names of variables whos name starts with <code>X</code>. To
output the contents of a variable so it can be parsed by<br>
bash</p>
<div class="highlight"><pre><span></span><code>declare -p VARNAME
</code></pre></div>

<h1>Pattern Matching</h1>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="c1">#t*is</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the shortest possible match from the left</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="c1">##t*is</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the longest possible match from the left</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">%</span><span class="n">t</span><span class="o">*</span><span class="n">st</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the shortest possible match from the right</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">%%</span><span class="n">t</span><span class="o">*</span><span class="n">st</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the longest possible match from the right MNEMONIC:
The # key is on the left side of the $ key and operates from the left.
The % key is on the right of the $ key and operates from the right.</p>
<h1>Substitution</h1>
<div class="highlight"><pre><span></span><code><span class="nv">Operator</span><span class="s s-Atom">:</span> <span class="err">$</span><span class="p">{</span><span class="nn">foo</span><span class="p">:</span><span class="o">-</span><span class="s s-Atom">bar</span><span class="p">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return $foo. If it doesn't
exist or is null, return bar.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">:=</span><span class="n">bar</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return $foo. If it doesn't
exist or is null, set $foo to bar and return bar.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="p">:</span><span class="o">+</span><span class="n">bar</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return bar. If it doesn't
exist or is null, return a null.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="p">:</span><span class="err">?</span><span class="s2">&quot;error message&quot;</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and isn't null, return its value. If it
doesn't exist or is null, print the error message. If no error message
is given, it prints parameter null or not set. In a non-interactive
shell, this aborts the current script. In an interactive shell, this
simply prints the error message.</p>
<h1>$$ for Subshell</h1>
<p>When running a sub-shell in <code>bash</code> the <code>$$</code> construct still returns
the process id of the main shell. Use the following construct to
determine the correct IP address:</p>
<div class="highlight"><pre><span></span><code>mypid=$(sh -c &#39;echo $$PPID&#39;)
</code></pre></div>

<p>Yes, it looks <em>nasty</em>.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://www.iliu.net">Familia</a></li>
                            <li><a href="https://github.com/alejandroliu/0ink.net">github</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>