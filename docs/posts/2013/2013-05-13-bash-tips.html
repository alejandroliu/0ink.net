<!doctype html>
<html lang="">
<head>
	<meta charset="utf-8"/>
	<title>Bash Tips - 0ink.net</title>
	<meta name="author" content="Alejandro Liu">


	<meta name="description" content="Some bash one-liners: echo ${!X*} Will print all the names of variables whos name starts with X. To output the contents of a variable so it can be parsed by bash declare -p VARNAME Pattern Matching Operator: ${foo#t*is} Function: deletes the shortest possible match from the left Operator …">
	<meta name="int-title" content="Bash Tips">
	<meta name="date" content="2013-05-13 00:00:00+02:00">


	<link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
	<link rel="stylesheet" href="/theme/css/main.css" type="text/css" />


</head>

<body>

    <div class="container">

	  <header role="banner">
	    <div class="feeds">
	    </div>
		<nav class="pages">
			    <a href="/pages/about.html">About</a>
-			    <a href="/pages/privacy-policy.html">Privacy Policy</a>
		</nav>
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		0ink.net</a>
	      <div class="logo">
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		  <img src="/images/2021/0ink.png" width="44" height="44" />
		</a>
	      </div>



      </header>

	  <div class="wrapper">

		  <div role="main" class="content">
			<iframe src="https://duckduckgo.com/search.html?site=0ink.net&prefill=Search with DuckDuckGo" style="overflow:hidden;margin:5px;padding:0;width:408px;height:40px;" frameborder="0"></iframe>

	<article class="full">

		<h1>Bash Tips</h1>

<div class="metadata">
  <time datetime="2013-05-13T00:00:00+02:00" pubdate>Mon 13 May 2013</time>
    <address class="vcard author">
      by <a class="url fn" href="/author/alejandro-liu.html">Alejandro Liu</a>
    </address>
  in <a href="/category/c2013.html">2013</a>
</div>
		<p>Some bash one-liners:</p>
<div class="highlight"><pre><span></span><code>echo <span class="cp">${</span><span class="err">!</span><span class="n">X</span><span class="o">*</span><span class="cp">}</span>
</code></pre></div>

<p>Will print all the names of variables whos name starts with <code>X</code>. To
output the contents of a variable so it can be parsed by<br>
bash</p>
<div class="highlight"><pre><span></span><code>declare -p VARNAME
</code></pre></div>

<h1>Pattern Matching</h1>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="c1">#t*is</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the shortest possible match from the left</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="c1">##t*is</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the longest possible match from the left</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">%</span><span class="n">t</span><span class="o">*</span><span class="n">st</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the shortest possible match from the right</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">%%</span><span class="n">t</span><span class="o">*</span><span class="n">st</span><span class="cp">}</span>
</code></pre></div>

<p>Function: deletes the longest possible match from the right MNEMONIC:
The # key is on the left side of the $ key and operates from the left.
The % key is on the right of the $ key and operates from the right.</p>
<h1>Substitution</h1>
<div class="highlight"><pre><span></span><code><span class="nv">Operator</span><span class="s s-Atom">:</span> <span class="err">$</span><span class="p">{</span><span class="nn">foo</span><span class="p">:</span><span class="o">-</span><span class="s s-Atom">bar</span><span class="p">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return $foo. If it doesn't
exist or is null, return bar.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="o">:=</span><span class="n">bar</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return $foo. If it doesn't
exist or is null, set $foo to bar and return bar.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="p">:</span><span class="o">+</span><span class="n">bar</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and is not null, return bar. If it doesn't
exist or is null, return a null.</p>
<div class="highlight"><pre><span></span><code>Operator: <span class="cp">${</span><span class="n">foo</span><span class="p">:</span><span class="err">?</span><span class="s2">&quot;error message&quot;</span><span class="cp">}</span>
</code></pre></div>

<p>Function: If $foo exists and isn't null, return its value. If it
doesn't exist or is null, print the error message. If no error message
is given, it prints parameter null or not set. In a non-interactive
shell, this aborts the current script. In an interactive shell, this
simply prints the error message.</p>
<h1>$$ for Subshell</h1>
<p>When running a sub-shell in <code>bash</code> the <code>$$</code> construct still returns
the process id of the main shell. Use the following construct to
determine the correct IP address:</p>
<div class="highlight"><pre><span></span><code>mypid=$(sh -c &#39;echo $$PPID&#39;)
</code></pre></div>

<p>Yes, it looks <em>nasty</em>.</p>

	</article>


		  </div>

		  <div class="sidebar">

	        <nav>
	          <h2>Years</h2>
	          <ul>
	              <li ><a href="/category/c2021.html">2021</a></li>
	              <li ><a href="/category/c2020.html">2020</a></li>
	              <li ><a href="/category/c2019.html">2019</a></li>
	              <li ><a href="/category/c2018.html">2018</a></li>
	              <li ><a href="/category/c2017.html">2017</a></li>
	              <li ><a href="/category/c2016.html">2016</a></li>
	              <li ><a href="/category/c2015.html">2015</a></li>
	              <li ><a href="/category/c2014.html">2014</a></li>
	              <li class="active"><a href="/category/c2013.html">2013</a></li>
	              <li ><a href="/category/c.html">...</a></li>
	          </ul>
	        </nav>

	          <aside>
	          <h2>Social</h2>
			    <ul class="social">
				  <li><a href="https://github.com/alejandroliu/">github</a><i></i></li>
				  <li><a href="https://www.linkedin.com/in/alejandro-liu-ly/">LinkedIn</a><i></i></li>
			    </ul>
			  </aside>

	          <aside>
	            <h2>Links</h2>
	            <ul>
	                <li><a href="https://github.com/alejandroliu/0ink.net">Repo</a></li>
	                <li><a href="https://alejandro.iliu.net/">Alejandro</a></li>
	                <li><a href="/tags.html">Tags</a></li>
	                <li><a href="/sitemap.html">sitemap</a></li>
	            </ul>
	          </aside>
	      </div>

	  </div>

      <footer>

		<p role="contentinfo">
		  © 2021 Alejandro Liu - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-simplegrey">pelican-simplegrey</a>.
    	</p>

	  </footer>

	</div>


</body>
</html>