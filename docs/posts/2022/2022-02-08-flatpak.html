<!doctype html>
<html lang="">
<head>
	<meta charset="utf-8"/>
	<title>flatpak - 0ink.net</title>
	<meta name="author" content="Alejandro Liu">


	<meta name="description" content="Flatpak is a utility for software deployment and package management for Linux. It is advertised as offering a sandbox environment in which users can run application software in isolation from the rest of the system. Flatpak was developed as part of the freedesktop.org project and was originally called xdg-app …">
	<meta name="int-title" content="flatpak">
	<meta name="tags" content="application, browser, desktop, device, directory, installation, linux, management, manager, remote, software, sudo, ubuntu">
	<meta name="date" content="2022-02-08 00:00:00+01:00">
	<meta name="modified" content="2022-03-03 22:34:42+01:00">


	<link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
	<link rel="stylesheet" href="/theme/css/main.css" type="text/css" />


    <link href="/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="0ink.net Atom Feed" />
    <link href="/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="0ink.net RSS Feed" />
</head>

<body>
    <div class="container">

	  <header role="banner">
	    <div class="feeds">
	        <a href="/feeds/atom.xml" rel="alternate"><img src="/theme/images/icons/feed-32px.png" alt="atom feed" title="atom feed"/></a>
	    </div>
		<nav class="pages">
			    <a href="/pages/about.html">About</a>
-			    <a href="/pages/privacy-policy.html">Privacy Policy</a>
		</nav>
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		0ink.net</a>
	      <div class="logo">
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		  <img src="/images/2021/0ink.png" width="44" height="44" />
		</a>
	      </div>



      </header>

	  <div class="wrapper">

		  <div role="main" class="content">
			<iframe src="https://duckduckgo.com/search.html?site=0ink.net&prefill=Search with DuckDuckGo" style="overflow:hidden;margin:5px;padding:0;width:408px;height:40px;" frameborder="0"></iframe>

	<article class="full">

		<h1>flatpak</h1>

<div class="metadata">
  <time datetime="2022-02-08T00:00:00+01:00" pubdate>Tue 08 February 2022</time>
    <address class="vcard author">
      by <a class="url fn" href="/author/alejandro-liu.html">Alejandro Liu</a>
    </address>
  <p>Updated: 2022-03-03 22:34:42+01:00</p>
  in <a href="/category/c2022.html">2022</a>
<p class="tags">tagged <a href="/tag/application.html">application</a>, <a href="/tag/browser.html">browser</a>, <a href="/tag/desktop.html">desktop</a>, <a href="/tag/device.html">device</a>, <a href="/tag/directory.html">directory</a>, <a href="/tag/installation.html">installation</a>, <a href="/tag/linux.html">linux</a>, <a href="/tag/management.html">management</a>, <a href="/tag/manager.html">manager</a>, <a href="/tag/remote.html">remote</a>, <a href="/tag/software.html">software</a>, <a href="/tag/sudo.html">sudo</a>, <a href="/tag/ubuntu.html">ubuntu</a></p></div>
		<p>Flatpak is a utility for software deployment and package management for
Linux. It is advertised as offering a sandbox environment in which users
can run application software in isolation from the rest of the system.
Flatpak was developed as part of the freedesktop.org project and was
originally called xdg-app.</p>
<h2 id="snap-vs-flatpak">Snap vs Flatpak</h2>
<p>Snaps and Flatpaks are often compared to each other because they both
make it super easy for Linux users to get the latest versions of
desktop applications. If a Linux user wants to install the latest
version of apps like Slack, Krita or Blender, either tool will work
just fine. There is one fundamental difference between Snaps and
Flatpaks, however. While both are systems for distributing Linux apps,
snap is also a tool to build Linux Distributions.</p>
<p>Flatpak is designed to install and update “apps”; user-facing software
such as video editors, chat programs and more. Your operating system,
however, contains a lot more software than apps. It contains a kernel,
printer drivers, audio subsystems and more. While Flatpak assumes this
software is installed using a traditional package manager, snaps can
install anything. These are some examples.</p>
<ul>
<li>There is current work ongoing to put the entire Linux printing stack
  inside of a snap. This has the advantage that printer drivers can be
  updated independently from the operating system. Once this work is
  complete, every single Ubuntu version will be able to use the latest
  printer drivers. Trying to use new printers on old Linux distributions
  can be very frustrating, and installing newer printer drivers can be
  risky. Having the printing stack in a snap will solve this issue.</li>
<li>A few years ago, Ubuntu drastically changed the system theme. When
  the "CommuniTheme" initiative started, they wanted an easy way to
  make the latest updates of the theme available to users immediately.
  Normally, a system theme is shipped together with the distro, so
  users do not get theme updates after the distro releases. For
  “CommuniTheme”, however, they fixed this by putting the system
  theme inside of a snap. Because of this, users got updates to their
  theme every day, instead of every 6 months. This is again not
  something Flatpak was built for. Flatpak applications can update
  their own theme, but it is not possible to ship the system theme
  as a Flatpak. This is because Flatpak was designed for distributing
  apps, not building an entire Linux distribution.</li>
<li>Even the Linux kernel, the most fundamental part of a Linux
  distribution, can be put in a snap. This is used a lot for IoT
  devices such as routers and satellites. The impact of a broken
  kernel update is catastrophic if you require a rocket in order
  to plug a USB stick into the device. Snaps allow these devices
  to safely update their kernel and automatically roll back if
  something goes wrong during the process.</li>
</ul>
<p>As a result, it’s possible to build an entire operating system using
only snaps, which is exactly what Ubuntu Core is.</p>
<p>Flatpak was designed to give developers an easy way to bring their
apps directly to users, and it does that job very well. The focused
approach of Flatpak even has a big advantage: it’s a lot easier for
a distribution to integrate with Flatpak because it does a lot less.
The tradeoff is that it only provides app distribution; it doesn’t
solve the issues of distributing entire operating systems. Fedora
Silverblue, for example, creates an immutable desktop operating
system by using Flatpak for app distribution and OSTree
for distributing the OS itself.</p>
<p>Unfortunately, for my choice Linux distro (<a href="https://voidlinux.org/">void linux</a>), only Flatpak is
available.</p>
<h2 id="install-flatpak">Install Flatpak</h2>
<p>To install Flatpak, run the following:</p>
<div class="highlight"><pre><span></span><code>sudo xbps-install -S flatpak
</code></pre></div>

<h2 id="after-installation">After installation</h2>
<p>Once flatpak is installed, you can choose to install software system
wide or on an per-user basis.  The default is to install system wide
which requires root priviledge (or <code>sudo</code>).  You may also specify
<code>--system</code> if you want to force system wide install.</p>
<p>To manage software on a per-user basis, use the <code>--user</code> option.</p>
<p>The best place to find software for Flatpak is <a href="https://flathub.org">flathub</a>.
You can browse the catalogue in <a href="https://flathub.org">https://flathub.org</a>.</p>
<p>If you want to start installing software you need to first add the remote:</p>
<div class="highlight"><pre><span></span><code><span class="nv">sudo</span><span class="w"> </span><span class="nv">flatpak</span><span class="w"> </span><span class="nv">remote</span><span class="o">-</span><span class="nv">add</span><span class="w"> </span><span class="o">--</span><span class="k">if</span><span class="o">-</span><span class="nv">not</span><span class="o">-</span><span class="nv">exists</span><span class="w"> </span><span class="nv">flathub</span><span class="w"> </span><span class="nv">https</span>:<span class="o">//</span><span class="nv">flathub</span>.<span class="nv">org</span><span class="o">/</span><span class="nv">repo</span><span class="o">/</span><span class="nv">flathub</span>.<span class="nv">flatpakrepo</span>
</code></pre></div>

<p>Or for per-user installation:</p>
<div class="highlight"><pre><span></span><code><span class="nv">flatpak</span><span class="w"> </span><span class="o">--</span><span class="nv">user</span><span class="w"> </span><span class="nv">remote</span><span class="o">-</span><span class="nv">add</span><span class="w"> </span><span class="o">--</span><span class="k">if</span><span class="o">-</span><span class="nv">not</span><span class="o">-</span><span class="nv">exists</span><span class="w"> </span><span class="nv">flathub</span><span class="w"> </span><span class="nv">https</span>:<span class="o">//</span><span class="nv">flathub</span>.<span class="nv">org</span><span class="o">/</span><span class="nv">repo</span><span class="o">/</span><span class="nv">flathub</span>.<span class="nv">flatpakrepo</span>
</code></pre></div>

<p>Afterwards you can install software:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak install pkg-id ...
</code></pre></div>

<p>Or per-user:</p>
<div class="highlight"><pre><span></span><code>flatpak --user install pkg-id ...
</code></pre></div>

<h2 id="interesting-flatpaks">Interesting flatpaks:</h2>
<ul>
<li><a href="https://flathub.org/apps/details/com.spotify.Client">com.spotify.Client</a> : Spotify desktop client</li>
<li><a href="https://flathub.org/apps/details/dev.alextren.Spot">dev.alextren.Spot</a> : Alternative spotify client</li>
<li><a href="https://flathub.org/apps/details/org.chromium.Chromium">org.chromium.Chromium</a> : Open source chrome.</li>
<li><a href="https://flathub.org/apps/details/org.mozilla.firefox">org.mozilla.firefox</a> : Firefox Web browser</li>
<li><a href="https://flathub.org/apps/details/com.valvesoftware.Steam">com.valvesoftware.Steam</a> : Steam Launcher</li>
<li><a href="https://flathub.org/apps/details/com.simplenote.Simplenote">com.simplenote.Simplenote</a> : Simple Note</li>
<li><a href="https://flathub.org/apps/details/com.mojang.Minecraft">com.mojang.Minecraft</a> : Minecraft launcher</li>
</ul>
<h2 id="basic-commands">Basic commands</h2>
<p>Search:</p>
<div class="highlight"><pre><span></span><code>flatpak search gimp
</code></pre></div>

<p>Install:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak install flathub org.gimp.GIMP
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak --user install flathub org.gimp.GIMP
</code></pre></div>

<p>Note that the current version of flatpak will do a search, so you don't
have to specify the ID.</p>
<p>Running applications:</p>
<div class="highlight"><pre><span></span><code>flatpak run org.gimp.GIMP
</code></pre></div>

<p>This will automatically determine if the application was installed
system-wide or on per-user basis.  You can use the <code>--system</code> or
<code>--user</code> flags to specify which to use if it was installed multiple
times, otherwise the system-wide installation will be used.</p>
<p>Updating:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak update
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak --user update
</code></pre></div>

<p>This will update all installed applications.</p>
<p>List installed applications:</p>
<div class="highlight"><pre><span></span><code>flatpak list
</code></pre></div>

<p>This will list applications and runtimes indicating if it was installed
system wide or per-user.  To list only applications:</p>
<div class="highlight"><pre><span></span><code>flatpak list --app
</code></pre></div>

<p>Removing applications:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak uninstall org.gimp.GIMP
</code></pre></div>

<p>Or</p>
<div class="highlight"><pre><span></span><code>flatpak --user uninstall org.gimp.GIMP
</code></pre></div>

<p>Keep in mind that uninstalling applications will not delete files in
your $HOME directory.  These are in <code>$HOME/.var/app/$PKGID</code>.</p>
<p>You need to manually delete these files.</p>
<h2 id="managing-repositories">Managing repositories</h2>
<p>List remotes:</p>
<div class="highlight"><pre><span></span><code>flatpak remotes
</code></pre></div>

<p>This gives a list of the existing remotes that have been added. The
list indicates whether each remote has been added per-user or
system-wide.</p>
<p>Add a remote:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>flatpak<span class="w"> </span>remote-add<span class="w"> </span>--if-not-exists<span class="w"> </span>flathub<span class="w"> </span>https://flathub.org/repo/flathub.flatpakrepo
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak<span class="w"> </span>--user<span class="w"> </span>remote-add<span class="w"> </span>--if-not-exists<span class="w"> </span>flathub<span class="w"> </span>https://flathub.org/repo/flathub.flatpakrepo
</code></pre></div>

<p>Remove a remote:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak remote-delete flathub
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak --user remote-delete flathub
</code></pre></div>

<h2 id="troubleshooting">Troubleshooting</h2>
<p>Flatpak has a few commands that can help you to get things working
again when something goes wrong.</p>
<p>To remove runtimes and extensions that are not used by installed
applications, use:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak uninstall --unused
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak --user uninstall --unused
</code></pre></div>

<p>To fix inconsistencies with your local installation, use:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak repair
</code></pre></div>

<p>Or:</p>
<div class="highlight"><pre><span></span><code>flatpak --user repair
</code></pre></div>

<p>Flatpak also has a number of commands to manage the portal
permissions of installed apps. To reset all portal permissions
for an app, use flatpak permission-reset:</p>
<div class="highlight"><pre><span></span><code>sudo flatpak permission-reset org.gimp.GIMP
</code></pre></div>

<p>Or</p>
<div class="highlight"><pre><span></span><code>flatpak --user permission-reset org.gimp.GIMP
</code></pre></div>

<p>To find out what changes have been made to your Flatpak installation
over time, you can take a look at the logs (since 1.2):</p>
<div class="highlight"><pre><span></span><code>flatpak history
</code></pre></div>

<p>However, this requires <code>libsystemd</code> which is not used in void linux.</p>

	</article>


		  </div>

		  <div class="sidebar">

	        <nav>
	          <h2>Years</h2>
	          <ul>
	              <li ><a href="/category/c2023.html">2023</a></li>
	              <li class="active"><a href="/category/c2022.html">2022</a></li>
	              <li ><a href="/category/c2021.html">2021</a></li>
	              <li ><a href="/category/c2020.html">2020</a></li>
	              <li ><a href="/category/c2019.html">2019</a></li>
	              <li ><a href="/category/c2018.html">2018</a></li>
	              <li ><a href="/category/c2017.html">2017</a></li>
	              <li ><a href="/category/c2016.html">2016</a></li>
	              <li ><a href="/category/c2015.html">2015</a></li>
	              <li ><a href="/category/c2014.html">2014</a></li>
	              <li ><a href="/category/c2013.html">2013</a></li>
	          </ul>
	        </nav>

	          <aside>
	          <h2>Social</h2>
			    <ul class="social">
				  <li><a href="https://github.com/alejandroliu/">github</a><i></i></li>
				  <li><a href="https://www.linkedin.com/in/alejandro-liu-ly/">LinkedIn</a><i></i></li>
			    </ul>
			  </aside>

	          <aside>
	            <h2>Links</h2>
	            <ul>
	                <li><a href="/sitemap.html">sitemap</a></li>
	                <li><a href="/tags.html">Tags</a></li>
	                <li><a href="https://github.com/alejandroliu/0ink.net">Repo</a></li>
	                <li><a href="https://home.0ink.net/nanowiki/">Wiki</a></li>
	            </ul>
	          </aside>
	      </div>

	  </div>

      <footer>

		<p role="contentinfo">
		  © 2021-2022 Alejandro Liu - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-simplegrey">pelican-simplegrey</a>.
		  <span class="feeds">
		    <a href="/feeds/rss.xml" rel="alternate"><img src="/theme/images/icons/feed-32px.png" alt="rss feed" title="rss feed"/></a>
		  </span>
		  </p>

	  </footer>

	</div>


</body>
</html>