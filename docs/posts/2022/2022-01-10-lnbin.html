<!doctype html>
<html lang="">
<head>
	<meta charset="utf-8"/>
	<title>lnbin - 0ink.net</title>
	<meta name="author" content="Alejandro Liu">


	<meta name="description" content="This is my lnbin script. This is a program for managing symlink in a /usr/local/bin directory. It is similar to stow, lndir, cleanlinks and others. The approach used by lnbin is based on Stow, and it is to install each into its own tree, then use symbolic links …">
	<meta name="int-title" content="lnbin">
	<meta name="tags" content="directory, installation">
	<meta name="date" content="2022-01-10 00:00:00+01:00">
	<meta name="modified" content="2022-03-03 22:34:42+01:00">


	<link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
	<link rel="stylesheet" href="/theme/css/main.css" type="text/css" />


    <link href="/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="0ink.net Atom Feed" />
    <link href="/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="0ink.net RSS Feed" />
</head>

<body>
    <div class="container">

	  <header role="banner">
	    <div class="feeds">
	        <a href="/feeds/atom.xml" rel="alternate"><img src="/theme/images/icons/feed-32px.png" alt="atom feed" title="atom feed"/></a>
	    </div>
		<nav class="pages">
			    <a href="/pages/about.html">About</a>
-			    <a href="/pages/privacy-policy.html">Privacy Policy</a>
		</nav>
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		0ink.net</a>
	      <div class="logo">
		<a href="/" class="title"
 title="Not the site you are looking for..."		>
		  <img src="/images/2021/0ink.png" width="44" height="44" />
		</a>
	      </div>



      </header>

	  <div class="wrapper">

		  <div role="main" class="content">
			<iframe src="https://duckduckgo.com/search.html?site=0ink.net&prefill=Search with DuckDuckGo" style="overflow:hidden;margin:5px;padding:0;width:408px;height:40px;" frameborder="0"></iframe>

	<article class="full">

		<h1>lnbin</h1>

<div class="metadata">
  <time datetime="2022-01-10T00:00:00+01:00" pubdate>Mon 10 January 2022</time>
    <address class="vcard author">
      by <a class="url fn" href="/author/alejandro-liu.html">Alejandro Liu</a>
    </address>
  <p>Updated: 2022-03-03 22:34:42+01:00</p>
  in <a href="/category/c2022.html">2022</a>
<p class="tags">tagged <a href="/tag/directory.html">directory</a>, <a href="/tag/installation.html">installation</a></p></div>
		<p>This is my <a href="https://github.com/alejandroliu/0ink.net/tree/master/snippets/lnbin">lnbin</a> script.</p>
<p>This is a program for managing symlink in a <code>/usr/local/bin</code>
directory.  It is similar to stow, lndir, cleanlinks and
others.</p>
<p>The approach used by <em>lnbin</em> is based on Stow, and it is to install
each into its own tree, then use symbolic links to make its bin
directory, so that the command can be in the executable path.</p>
<p>When run, <em>lnbin</em> examines packages in <code>pkgs-dir</code> and the
<code>target</code> directory (see OPTIONS), adding or removing links as
needed.</p>
<h2 id="sample-usage">Sample usage:</h2>
<h3 id="pkg-installation">pkg installation</h3>
<p>The standard way to use <em>lnbin</em> is:</p>
<ul>
<li>download source package</li>
<li>build and install package</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># extract archive</span>
tar<span class="w"> </span>zxvf<span class="w"> </span>archive-x.x.tar.gz
<span class="nb">cd</span><span class="w"> </span>archive-x.x
<span class="c1"># GNU autoconf</span>
./configure<span class="w"> </span>--prefix<span class="o">=</span><span class="s2">&quot;/usr/local/pkgs/archive-x.x&quot;</span>
make
<span class="c1"># Package installation</span>
make<span class="w"> </span>install
<span class="c1"># ... or ...</span>
make<span class="w"> </span>install<span class="w"> </span><span class="nv">DESTDIR</span><span class="o">=</span>/usr/local/pkgs/archive-x.x
</code></pre></div>

<ul>
<li>update symlinks in /usr/local/bin</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/usr/local/bin
lnbin<span class="w"> </span>-v<span class="w"> </span>-x<span class="w"> </span>../pkgs
</code></pre></div>

<p>This will add the new links (and also remove/update obsolete/changed links)</p>
<h3 id="removing-packages">Removing packages</h3>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/pkgs/archive-x.x
<span class="nb">cd</span><span class="w"> </span>/usr/local/bin
lnbin<span class="w"> </span>-v<span class="w"> </span>-x<span class="w"> </span>../pkgs
</code></pre></div>

<h3 id="updating-symlinks-after-upgrade">Updating symlinks (after upgrade)</h3>
<div class="highlight"><pre><span></span><code>cd /usr/local/bin
lnbin -v -x ../pkgs
</code></pre></div>

<p>This will add new links and/or remove obsolete links</p>

	</article>


		  </div>

		  <div class="sidebar">

	        <nav>
	          <h2>Years</h2>
	          <ul>
	              <li ><a href="/category/c2023.html">2023</a></li>
	              <li class="active"><a href="/category/c2022.html">2022</a></li>
	              <li ><a href="/category/c2021.html">2021</a></li>
	              <li ><a href="/category/c2020.html">2020</a></li>
	              <li ><a href="/category/c2019.html">2019</a></li>
	              <li ><a href="/category/c2018.html">2018</a></li>
	              <li ><a href="/category/c2017.html">2017</a></li>
	              <li ><a href="/category/c2016.html">2016</a></li>
	              <li ><a href="/category/c2015.html">2015</a></li>
	              <li ><a href="/category/c2014.html">2014</a></li>
	              <li ><a href="/category/c2013.html">2013</a></li>
	          </ul>
	        </nav>

	          <aside>
	          <h2>Social</h2>
			    <ul class="social">
				  <li><a href="https://github.com/alejandroliu/">github</a><i></i></li>
				  <li><a href="https://www.linkedin.com/in/alejandro-liu-ly/">LinkedIn</a><i></i></li>
			    </ul>
			  </aside>

	          <aside>
	            <h2>Links</h2>
	            <ul>
	                <li><a href="/sitemap.html">sitemap</a></li>
	                <li><a href="/tags.html">Tags</a></li>
	                <li><a href="https://github.com/alejandroliu/0ink.net">Repo</a></li>
	                <li><a href="https://home.0ink.net/nanowiki/">Wiki</a></li>
	            </ul>
	          </aside>
	      </div>

	  </div>

      <footer>

		<p role="contentinfo">
		  © 2021-2022 Alejandro Liu - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-simplegrey">pelican-simplegrey</a>.
		  <span class="feeds">
		    <a href="/feeds/rss.xml" rel="alternate"><img src="/theme/images/icons/feed-32px.png" alt="rss feed" title="rss feed"/></a>
		  </span>
		  </p>

	  </footer>

	</div>


</body>
</html>